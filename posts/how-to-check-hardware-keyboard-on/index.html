<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Fixing a hardware keyboard problem in Mobile Firefox for Windows Mobile  - Joone Blog</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Finally, my patch was applied to the mainline of Mozilla and this cumbersome bug has been fixed. I am so happy to contribute to Mozilla. Here is the detail what the problem was fixed:
Windows Mobile keeps the status of hardware keyboard in the registry as follows:
&#34;HKEY\_CURRENT\_USER\\SOFTWARE\\Microsoft\\Shell\\HasKeyboard&#34; A software keyboard can pop-up if a device doesn&rsquo;t have a hardware keyboard. However, in the case that the device has a slide-out keyboard, the value should be changed according to the status of the slide-out keyboard." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Fixing a hardware keyboard problem in Mobile Firefox for Windows Mobile " />
<meta property="og:description" content="Finally, my patch was applied to the mainline of Mozilla and this cumbersome bug has been fixed. I am so happy to contribute to Mozilla. Here is the detail what the problem was fixed:
Windows Mobile keeps the status of hardware keyboard in the registry as follows:
&#34;HKEY\_CURRENT\_USER\\SOFTWARE\\Microsoft\\Shell\\HasKeyboard&#34; A software keyboard can pop-up if a device doesn&rsquo;t have a hardware keyboard. However, in the case that the device has a slide-out keyboard, the value should be changed according to the status of the slide-out keyboard." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joone.github.io/posts/how-to-check-hardware-keyboard-on/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2009-08-27T07:36:00-07:00" />
<meta property="article:modified_time" content="2009-08-27T07:36:00-07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fixing a hardware keyboard problem in Mobile Firefox for Windows Mobile "/>
<meta name="twitter:description" content="Finally, my patch was applied to the mainline of Mozilla and this cumbersome bug has been fixed. I am so happy to contribute to Mozilla. Here is the detail what the problem was fixed:
Windows Mobile keeps the status of hardware keyboard in the registry as follows:
&#34;HKEY\_CURRENT\_USER\\SOFTWARE\\Microsoft\\Shell\\HasKeyboard&#34; A software keyboard can pop-up if a device doesn&rsquo;t have a hardware keyboard. However, in the case that the device has a slide-out keyboard, the value should be changed according to the status of the slide-out keyboard."/>
<script src="https://joone.github.io/js/feather.min.js"></script>
	
	
        <link href="https://joone.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://joone.github.io/css/main.3e054fb5af83be9f620f8f8320cb21992526b8eb67b739f28ae60bb3f1522c10.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://joone.github.io/">Joone Blog</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Fixing a hardware keyboard problem in Mobile Firefox for Windows Mobile </h1>
			<div class="meta">Posted on Aug 27, 2009</div>
		</div>
		

		<section class="body">
			<p>Finally, m<a href="http://hg.mozilla.org/releases/mozilla-1.9.2/rev/56eb284b6862">y patch was applied to the mainline of Mozilla</a> and <a href="http://dougt.org/wordpress/2009/03/windows-ce-hardware-keyboard-help/">this cumbersome bug has been fixed</a>. I am so happy to contribute to Mozilla. Here is the detail what the problem was fixed:</p>
<p>Windows Mobile keeps the status of hardware keyboard in the registry as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&#34;HKEY\_CURRENT\_USER\\SOFTWARE\\Microsoft\\Shell\\HasKeyboard&#34;
</span></span></code></pre></div><p>A software keyboard can pop-up if a device doesn&rsquo;t have a hardware keyboard. However, in the case that the device has a slide-out keyboard, the value should be changed according to the status of the slide-out keyboard.</p>
<p>For example:</p>
<ol>
<li>When the keyboard does not slide out, the HasKeyboard value has to be &ldquo;0&rdquo;</li>
<li>Whenthe keyboard slides out, the HasKeyboard value has to be &ldquo;1&rdquo;</li>
</ol>
<p>However, the above registry value, HasKeyboard, always returns 1 because it doesn&rsquo;t consider the status of slide-out keyboard. :-(</p>
<p>Windows Mobile doesn&rsquo;t have a standard API for detecting a status of slide-out keyboard so each device maker has to provide its own hidden or public API. For Samsung Windows Mobile devices, Samsung provides <a href="http://innovator.samsungmobile.com/down/cnts/toolSDK.list.do?platformId=2">Windows Mobile SDK</a> from the Samsung Mobile Innovator site so we can easily get a state of the slide-out keyboard on Samsung devices. However, HTC doesn&rsquo;t provide any document on how to use device APIs.</p>
<p><a href="http://msmobiles.com/news.php/7477.html">As a result, some hackers had tried to find out how to use hidden APIs for accessing hardware features of HTC devices</a>, but there is no API about slide-out keyboard.</p>
<p>Anyway, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=341772">Fennec has a bug with detecting the state of slide-out keyboard</a>, which seemed easy to solve. At least, it was easy for my i780, but my first patch couldn&rsquo;t support HTC touch pro that has a side-out keyboard.</p>
<p>I tried to check most of the registry values if there is any change. Finally, I found the value from  HKEY_LOCAL_MACHINE\System\GDI\Rotation\Slidekey. That made me fix the bug easily. :-)</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/fennec">fennec</a></li>
					
					<li><a href="/tags/windows-mobile">Windows Mobile</a></li>
					
				</ul>
			</nav>
			
			
		</div>
    
    <div class="pt-4"></div>
    <div class="mt-5 border-default border p-4 bg-white rounded">
      <script src="https://utteranc.es/client.js"
      repo="joone/joone.github.io"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
      </script>
    </div>

	</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/joone" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="https://twitter.com/joone/" rel="me" title="Twitter"><i data-feather="twitter"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2025  © Joone Hur |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
