<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Loz Update: Now with Local LLM Support and Natural Language Linux Commands - Joone Blog</title><link rel="icon" type="image/png" href=images/favicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="I&rsquo;ve been developing the Loz project in my spare time for nearly a year." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Loz Update: Now with Local LLM Support and Natural Language Linux Commands" />
<meta property="og:description" content="I&rsquo;ve been developing the Loz project in my spare time for nearly a year." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joone.github.io/blog/loz-update/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-02-26T19:44:48-08:00" />
<meta property="article:modified_time" content="2024-02-26T19:44:48-08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Loz Update: Now with Local LLM Support and Natural Language Linux Commands"/>
<meta name="twitter:description" content="I&rsquo;ve been developing the Loz project in my spare time for nearly a year."/>

	
        <link href="https://joone.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://joone.github.io/css/main.3e054fb5af83be9f620f8f8320cb21992526b8eb67b739f28ae60bb3f1522c10.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://joone.github.io/">Joone Blog</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="about/">About</a>
		
		<a href="#">Pages</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Loz Update: Now with Local LLM Support and Natural Language Linux Commands</h1>
			<div class="meta">Posted on Feb 26, 2024</div>
		</div>
		

		<section class="body">
			<p><img src="https://github.com/joone/loz/raw/main/examples/loz_demo.gif?raw=true" alt="alt Loz Demo"></p>
<p>I&rsquo;ve been developing the Loz project in my spare time for nearly a year. It&rsquo;s now ready for others to use, so I&rsquo;m excited to share the latest updates.</p>
<p><a href="https://github.com/joone/loz">https://github.com/joone/loz</a></p>
<h2 id="support-for-local-llm">Support for Local LLM</h2>
<p>Initially, Loz only supported the OpenAI API. A friend inquired about integrating open-source LLMs like Llama2, which isn&rsquo;t straightforward to set up on a user&rsquo;s computer. I discovered a project called <a href="https://github.com/ollama/ollama">Ollama</a> that simplifies the installation of various open-source LLMs with a single command. It supports GPU or CPU and is compatible with Linux, MacOS, and Windows, making it an ideal solution for Loz. I refactored Loz&rsquo;s codebase, introduced an abstract class named LLMService, and added subclasses such as OpenAiAPI and OllamaAPI. Now, users can effortlessly switch between LLMs in interactive mode using <code>config api</code> command.</p>
<p>An advantage is the ability to compare outputs across different LLM engines. I&rsquo;ve tested Llama2, codellama, and GPT-3 for generating Git messages. Ollama tends to be unstable with long token sizes, producing verbose and inconsistent outputs. Sometimes, it even includes code diffs in the generated commit messages, indicating that Llama2 needs a finue-tune for this task.</p>
<h2 id="execute-linux-commands-using-natural-language">Execute Linux Commands Using Natural Language</h2>
<p>I&rsquo;ve added functionality to execute Linux commands via natural language. Loz first determines if the prompt is for generating a Linux command. If so, it returns the command(s) in JSON format, facilitating easy access to the command for Loz. If not, the prompt is forwared to OpenAI API and processed as a regular prompt.</p>
<p>The generated JSON varies but is generally understandable, containing command or commands objects and args object. Loz interprets these objects to construct executable Linux commands. However, there are challenges, such as when the tools referenced by the command are not installed on the local system. While enhancing the detail in prompts can improve the output, the results may still be unpredictable. Therefore, the continuous refinement of Git message and Linux command generation remains an ongoing effort.</p>
<p>Here are some examples of executing Linux commands with Loz:</p>
<ul>
<li>
<p>Find the largest file in the current directory:</p>
<pre tabindex="0"><code>loz &#34;find the largest file in the current directory&#34;
-rw-rw-r-- 1 foo bar 9020257 Jan 31 19:49 ./node_modules/typescript/lib/typescript.js
</code></pre></li>
<li>
<p>Check if Apache2 is running:</p>
<pre tabindex="0"><code>loz &#34;check if apache2 is running on this system&#34;
‚óè apache2.service - The Apache HTTP Server
</code></pre></li>
<li>
<p>Detect GPUs in the system:</p>
</li>
</ul>
<pre tabindex="0"><code>loz &#34;Detect GPUs on this system&#34;
00:02.0 VGA compatible controller: Intel Corporation Device a780 (rev 04)
</code></pre><h2 id="cli-for-llm">CLI for LLM</h2>
<p>In the future, familiarity with command-line tools for Linux, Windows, or MacOS might become unnecessary, as we will interact directly with a built-in LLM within the operating system. Loz serves as a precursor to this envisioned future.</p>

		</section>

		<div class="post-tags">
			
			
			
		</div>
    
    <div class="pt-4"></div>
    <div class="mt-5 border-default border p-4 bg-white rounded">
      <script src="https://utteranc.es/client.js"
      repo="joone/joone.github.io"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
      </script>
    </div>

	</article>
</main>
<footer>
  <div style="display:flex"></div>
  <div class="footer-info">
    2024  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


</div>
    </body>
</html>
