<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>The new Headless mode now supports disabling lazy loading - Joone Blog</title><link rel="icon" type="image/png" href=images/favicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Recently, I added support for disabling lazy loading to the new headless Chromium." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="The new Headless mode now supports disabling lazy loading" />
<meta property="og:description" content="Recently, I added support for disabling lazy loading to the new headless Chromium." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joone.github.io/blog/headless-disable-lazy-loading/" /><meta property="og:image" content="https://joone.github.io/images/post/headless-chrome.webp" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-05-07T16:06:00-07:00" />
<meta property="article:modified_time" content="2023-05-07T16:06:00-07:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://joone.github.io/images/post/headless-chrome.webp"/>

<meta name="twitter:title" content="The new Headless mode now supports disabling lazy loading"/>
<meta name="twitter:description" content="Recently, I added support for disabling lazy loading to the new headless Chromium."/>
<script src="https://joone.github.io/js/feather.min.js"></script>
	
	
        <link href="https://joone.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://joone.github.io/css/main.3e054fb5af83be9f620f8f8320cb21992526b8eb67b739f28ae60bb3f1522c10.css" />

	
	
		<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>
	
		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
	

	
	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
		
		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
					renderMathInElement(document.body, {
							delimiters: [
									{left: "$$", right: "$$", display: true},
									{left: "$", right: "$", display: false}
							]
					});
			});
			</script>
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://joone.github.io/">Joone Blog</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="about/">About</a>
		
		<a href="#">Pages</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">The new Headless mode now supports disabling lazy loading</h1>
			<div class="meta">Posted on May 7, 2023</div>
		</div>
		

		<section class="body">
			<p>Recently, <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4510361">I added support for disabling lazy loading to the new headless Chromium</a>.
Since the Google Chrome team announced t<a href="https://developer.chrome.com/articles/new-headless/">he new headless mode</a>, the new headless mode has gradually supported the old headless features. This was one of the missing features.</p>
<p>But, what does disabling lazy loading actually mean?</p>
<p>First, we need to understand what lazy loading is on the Web.
Lazy loading is a technique that delays the loading of resources until they are needed. This can improve performance by reducing the amount of data that needs to be loaded initially.</p>
<p>For example, when a webpage has numerous images, users may have to scroll down the page to view the images. In such cases, the browser can defer the loading of the unseen images by using loading=lazy attributes for images. See this demo: <a href="https://enviragallery.com/demo/lazy-loading-demo/">https://enviragallery.com/demo/lazy-loading-demo/</a>
So, why should we disable lazy loading in headless mode?
In headless mode,  the image lazy loading becomes unnecessary because users want to get a fully loaded page in order to capture a screenshot or generate a pdf. This applies not only to image loading but also to any sub-resources like JavaScript, CSS, and iframes as follows:</p>
<pre tabindex="0"><code>&lt;img src=&#34;image.jpg&#34; alt=&#34;...&#34; loading=&#34;lazy&#34; /&gt;
&lt;iframe src=&#34;video-player.html&#34; title=&#34;...&#34; loading=&#34;lazy&#34;&gt;&lt;/iframe&gt;
</code></pre><p>This change was applied to the main branch of headess_shell and old headless mode on Jan 18, 2023</p>
<p>You can find more details about it here:</p>
<p><a href="https://source.chromium.org/chromium/chromium/src/+/a4e84e7e99130c902d10209bb33903c110e359e7">https://source.chromium.org/chromium/chromium/src/+/a4e84e7e99130c902d10209bb33903c110e359e7</a></p>
<p>If you wish to disable lazy loading in the new headless mode, make sure you are using the latest version of Chromium.</p>
<p>Here are some additional details about lazy loading:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading">https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading</a></li>
<li><a href="https://web.dev/i18n/en/browser-level-image-lazy-loading/">https://web.dev/i18n/en/browser-level-image-lazy-loading/</a></li>
</ul>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/chromium">chromium</a></li>
					
					<li><a href="/tags/headless">headless</a></li>
					
				</ul>
			</nav>
			
			
		</div>
    
    <div class="pt-4"></div>
    <div class="mt-5 border-default border p-4 bg-white rounded">
      <script src="https://utteranc.es/client.js"
      repo="joone/joone.github.io"
      issue-term="pathname"
      theme="github-light"
      crossorigin="anonymous"
      async>
      </script>
    </div>

	</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/joone" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="https://twitter.com/joone" rel="me" title="Twitter"><i data-feather="twitter"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
